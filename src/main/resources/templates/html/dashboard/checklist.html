<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Selfit - 체크리스트</title>
    <link rel="stylesheet" href="/css/global.css">
    <link rel="stylesheet" href="/css/dashboard/checklist.css">
    <link href='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.14/index.global.min.css' rel='stylesheet' />
    <script src="/js/header.js" defer></script>
</head>
<body>
<div id="container">
    <div id="header">
        <div class="leftMenu">
            <div class="logoBox">
                <a href="#" class="logo-link">
                    <img src="/img/logo_img.png" alt="selfit 로고" class="logo-img">
                </a>
            </div>
        </div>
        <div class="rightMenu">
            <div class="memberInfo">
                <div class="memberImg">
                    <a href="#">
                        <img src="/img/memberImg.png" alt="member 기본이미지" class="memberDefault">
                    </a>
                </div>
                <div class="goal">
                    <p>감량</p>
                </div>
                <div class="memberName">
                    <p>하고 싶은 송민지님</p>
                </div>
            </div>
            <div class="logoutBox">
                <button class="logout-btn" onclick="handleLogout()">로그아웃</button>
            </div>
        </div>
    </div>
    <div id="section1">
        <div class="sideBar">
            <div class="dashBoard">
                <p>대시보드</p>
                <div class="foodNote">
                    <p>식단 기록</p>
                </div>
                <div class="exerciseNote">
                    <p>운동 기록</p>
                </div>
                <div class="calorieCal">
                    <p>칼로리 계산</p>
                </div>
                <div class="checkList">
                    <p>체크리스트</p>
                </div>
            </div>
            <div class="community">
                <p>커뮤니티</p>
            </div>
            <div class="myPage">
                <p>마이페이지</p>
            </div>
        </div>

        <!-- 콘텐츠 영역 내부에 그리드 구조 -->
        <div class="content">
            <div class="checklist-header">
                <h1 class="page-title">체크리스트</h1>
            </div>

            <div class="content-grid">
                <div class="calendar-section">
                    <div class="calendar-container">
                        <div id="calendar"></div>
                    </div>
                </div>

                <!-- 체크리스트 사이드 패널 (콘텐츠 내부) -->
                <div id="checklistPanel" class="checklist-panel">
                    <div class="panel-header">
                        <h3 class="panel-date" id="panelDate">2025.05.20</h3>
                        <div class="panel-actions">
                            <button class="register-btn" onclick="saveChecklist()">등록</button>
                            <button class="close-btn" onclick="closePanel()">×</button>
                        </div>
                    </div>

                    <div class="panel-content">
                        <p class="panel-description">체크 항목을 입력해 주세요.</p>

                        <div class="checklist-display-container" id="checklistDisplay">
                            <!-- 등록된 체크리스트 아이템들이 표시될 영역 -->
                        </div>

                        <button class="add-item-btn" onclick="openAddModal()">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <path d="M12.146 1.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1 0 .708L6.707 12H4v-2.707l8.146-8.147z" fill="currentColor"/>
                            </svg>
                            항목 추가
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 체크리스트 항목 추가 모달 -->
        <div id="addItemModal" class="modal-overlay" style="display: none;">
            <div class="modal-container">
                <div class="modal-header">
                    <button class="modal-close-btn" onclick="closeAddModal()">×</button>
                </div>

                <div class="modal-content">
                    <div class="modal-input-container">
                        <input type="text" id="newItemInput" class="modal-input" placeholder="체크 항목을 입력해 주세요">
                    </div>

                    <button class="modal-register-btn" onclick="addNewItemFromModal()">등록하기</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.14/index.global.min.js'></script>
<script src="/js/dashboard/checklist.js"></script>

</body>
</html>